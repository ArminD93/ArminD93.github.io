<!DOCTYPE html>
<html>
  <head>
    <title>World happiness report - data analysis</title>
    <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />


<link rel="stylesheet" href="/assets/css/bootstrap.min.css"/>
<link rel="stylesheet" href="/assets/css/layouts/main.css"/>
<link rel="stylesheet" href="/assets/css/style.css"/>
<link rel="stylesheet" href="/assets/css/navigators/navbar.css"/>


<link href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" />




<script async src="https://www.googletagmanager.com/gtag/js?id=G-L5C2B8SPR2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-L5C2B8SPR2');
</script>



<link rel="icon" type="image/png" href="/assets/images/favicon.png" />


<link rel="stylesheet" href="/assets/css/style.css"/>

    
<meta name="description" content="World happiness report - data analysis" />
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css"
/>
<link rel="stylesheet" href="/assets/css/layouts/single.css"/>
<link rel="stylesheet" href="/assets/css/navigators/sidebar.css">


    
    
      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'G-L5C2B8SPR2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    
  </head>

  <body data-spy="scroll" data-target="#TableOfContents" data-offset="80">
    <div class="container-fluid bg-dimmed wrapper">
      
      
    




<nav class="navbar navbar-expand-xl top-navbar final-navbar shadow">
  <div class="container">
      <button class="navbar-toggler navbar-light" id="sidebar-toggler" type="button" onclick="toggleSidebar()">
      <span class="navbar-toggler-icon"></span>
    </button>
    <a class="navbar-brand" href="/">
      <img src="/assets/images/main-logo.png">Armin&#39;s portfolio</a>
    <button class="navbar-toggler navbar-light" id="toc-toggler" type="button" onclick="toggleTOC()">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse lang-selector" id="top-nav-items">
      <ul class="navbar-nav ml-auto">
      
      </ul>
    </div>
  </div>
  
  <img src="/assets/images/main-logo.png" class="d-none" id="main-logo">
  <img src="/assets/images/inverted-logo.png" class="d-none" id="inverted-logo">
</nav>



      
      
  <section class="sidebar-section" id="sidebar-section">
    <div class="sidebar-holder">
      <div class="sidebar" id="sidebar">
        <input type="text" value="" placeholder="Search" data-search="" id="search-box" />
        <div class="sidebar-tree">
          <ul class="tree" id="tree">
            <li id="list-heading"><a href="/posts" data-filter="all">Projects</a></li>
            <div class="subtree">
                

            </div>
          </ul>
        </div>
      </div>
    </div>
  </section>


      
      
<section class="content-section" id="content-section">
  <div class="content">
    <div class="container p-0 read-area">
      
      <div class="hero-area col-sm-12" id="hero-area" style='background-image: url(https://hugo-toha.github.io/assets/images/default-hero.jpg);'>
      </div>

      
      <div class="page-content">
        <div class="author-profile ml-auto align-self-lg-center">
          <img class="rounded-circle" src='/static/images/A85.jpg'/>
          <h5 class="author-name">Armin Derencz</h5>
          <p>February 19, 2020</p>
        </div>

        <div class="title">
          <h1>World happiness report - data analysis</h1>
        </div>

        <div class="post-content" id="post-content">
          <p><a href="https://www.kaggle.com/unsdsn/world-happiness">link to data</a></p>
<p><a href="https://github.com/ArminD93/WorldHappinessReport">link to GitHub Repository</a></p>
<h2 id="1-data-presentation"><strong>1. Data presentation</strong>:</h2>
<p>The data contain informations which might have influence for people&rsquo;s happiness score in the selected country.
We have 5 reports divided by years, from 2015 to 2019.</p>
<p>Acording to data, the happiness score can be estimated from six factors - economic production, social support, life expectancy, freedom, absence of corruption, and generosity. These factors contribute to making life evaluations higher in each country than they are in Dystopia, a hypothetical country that has values equal to the world’s lowest national averages for each of the six factors. They have no impact on the total score reported for each country, but they do explain why some countries rank higher than others.</p>
<p>Data downloaded from kaggle was splitted into years, which means in one file we have all factors from one year and we&rsquo;ve 5 data files.:</p>
<ol>
<li>
<p>Data from 2015:
<img src="/static/images/WorldHappinessReport/dataFrom2015.png" alt="data2015"></p>
</li>
<li>
<p>Data from 2016:
<img src="/static/images/WorldHappinessReport/dataFrom2016.jpg" alt="data2015"></p>
</li>
<li>
<p>Data from 2017:</p>
<p><img src="/static/images/WorldHappinessReport/dataFrom2017.jpg" alt="data2015"></p>
</li>
<li>
<p>Data from 2018:
<img src="/static/images/WorldHappinessReport/dataFrom2018.jpg" alt="data2015"></p>
</li>
<li>
<p>Data from 2019:
<img src="/static/images/WorldHappinessReport/dataFrom2019.jpg" alt="data2015"></p>
</li>
</ol>
<p>At the beginning, I considered each report separately, and then sum up my analysis into one report - summary report.</p>
<h2 id="2-data-reviewing"><strong>2. Data reviewing</strong>:</h2>
<p>I checked if data are completed and if there is no NaN values.</p>
<h3 id="21-correlation-maps">2.1. Correlation maps:</h3>
<p>On the correlation maps below, we see which factor has the highest influence on happiness score and which of them has lowest. Regardless the years, the highest influence on happiness score of the country has economy level of this country. On the opposite side, the generosity factor has little effect on happiness score.</p>
<p><img src="/static/images/WorldHappinessReport/corr_maps.jpg" alt="corr_maps"></p>
<h3 id="22-countries-with-the-highest-happiness-score">2.2. Countries with the highest happiness score</h3>
<p>In 2015, Switzerland was the country with the highest happiness score their citizens, but in 2016 this country took the second position in the ranking. Through the next years, Switzerland fell on the fourth, the fifth and the sixth place. In 2016, Denmark took the first place in this ranking. Unfortunately, in 2017 came on the second place, and Norway won the competion. In 2018 and 2019, Finland led in the happiness score ranking.</p>
<p><img src="/static/images/WorldHappinessReport/countries_with_highest_happiness_score.jpg" alt="highest happiness score count plots"></p>
<h2 id="3-preparing-report-for-one-trait-including-all-years"><strong>3. Preparing report for one trait including all years</strong>:</h2>
<p>I wanted to transform data into one file which would be contain all factors for only one year. To do this, I prepared two functions:</p>
<pre><code>def create_report_for_one_feature(report, col1, col2):
    '''
    create_report_for_one_feature - Create report which consist only two columns
    report - set data frame
    col1 - name of first column from chosen data frame
    col2 - name of second column from chosen data frame

    '''
    one_feature_report = report[[col1, col2]]
    return one_feature_report


def create_ALLYears_report(report1, report2, report3, report4, report5, merge_on):
    '''
    create_ALLYears_report - merging few data frames together
    report1, report2, report3, report4, report5  - names of data frames
    merge_on - set a common column for all data frames
    '''
    report_AllYears = pd.merge(report1, report2,  on= merge_on, suffixes=['_2015', '_2016'])
    report_AllYears = report_AllYears.merge(report3, on= merge_on                             )
    report_AllYears = report_AllYears.merge(report4, on= merge_on, suffixes=['_2017','_2018'] )
    report_AllYears = report_AllYears.merge(report5, on= merge_on                             )

    report_AllYears.set_index('Country or region', inplace=True)  
    return report_AllYears 
</code></pre>
<p>First, I run function &ldquo;create_report_for_one_feature()&rdquo; for all 5 reports to extract one factor from all years.</p>
<pre><code>happy_report2015 = create_report_for_one_feature(report2015, 'Country or region', 'HappinessScore')
happy_report2016 = create_report_for_one_feature(report2016, 'Country or region', 'HappinessScore')
happy_report2017 = create_report_for_one_feature(report2017, 'Country or region', 'HappinessScore')
happy_report2018 = create_report_for_one_feature(report2018, 'Country or region', 'HappinessScore')
happy_report2019 = create_report_for_one_feature(report2019, 'Country or region', 'HappinessScore')

economy_report2015 = create_report_for_one_feature(report2015, 'Country or region', 'Economy')
economy_report2016 = create_report_for_one_feature(report2016, 'Country or region', 'Economy')
economy_report2017 = create_report_for_one_feature(report2017, 'Country or region', 'Economy')
economy_report2018 = create_report_for_one_feature(report2018, 'Country or region', 'Economy')
economy_report2019 = create_report_for_one_feature(report2019, 'Country or region', 'Economy')

healthy_report2015 = create_report_for_one_feature(report2015, 'Country or region', 'Healthy_life_expectancy')
healthy_report2016 = create_report_for_one_feature(report2016, 'Country or region', 'Healthy_life_expectancy')
healthy_report2017 = create_report_for_one_feature(report2017, 'Country or region', 'Healthy_life_expectancy')
healthy_report2018 = create_report_for_one_feature(report2018, 'Country or region', 'Healthy_life_expectancy')
healthy_report2019 = create_report_for_one_feature(report2019, 'Country or region', 'Healthy_life_expectancy')

social_support_report2015 = create_report_for_one_feature(report2015, 'Country or region', 'Social_support')
social_support_report2016 = create_report_for_one_feature(report2016, 'Country or region', 'Social_support')
social_support_report2017 = create_report_for_one_feature(report2017, 'Country or region', 'Social_support')
social_support_report2018 = create_report_for_one_feature(report2018, 'Country or region', 'Social_support')
social_support_report2019 = create_report_for_one_feature(report2019, 'Country or region', 'Social_support')
</code></pre>
<p>Then, using function &ldquo;create_ALL Years report&rdquo;, I merged all years into into one file.</p>
<pre><code>happy_AllYears = create_ALLYears_report(happy_report2015, happy_report2016, happy_report2017, happy_report2018, happy_report2019, merge_on='Country or region')
happy_AllYears.head()
</code></pre>
<p><img src="/static/images/WorldHappinessReport/happyAllYears.jpg" alt="happiness2015"></p>
<pre><code>economy_AllYears = create_ALLYears_report(economy_report2015, economy_report2016, economy_report2017, economy_report2018, economy_report2019, merge_on='Country or region')
economy_AllYears.head()
</code></pre>
<p><img src="/static/images/WorldHappinessReport/economyAllYears.jpg" alt="economyAllYears"></p>
<pre><code>healthy_AllYears = create_ALLYears_report(healthy_report2015, healthy_report2016, healthy_report2017, healthy_report2018, healthy_report2019, merge_on='Country or region')
healthy_AllYears.head()
</code></pre>
<p><img src="/static/images/WorldHappinessReport/healthAllYears.jpg" alt="healthAllYears"></p>
<pre><code>social_support_AllYears = create_ALLYears_report(social_support_report2015, social_support_report2016, social_support_report2017, social_support_report2018, social_support_report2019, merge_on='Country or region')
social_support_AllYears.head()
</code></pre>
<p><img src="/static/images/WorldHappinessReport/socialAllYears.jpg" alt="socialAllYears"></p>
<h3 id="31">3.1.</h3>
<h3 id="32-changes-of-happiness-levels-in-2015-2019-on-line-plot">3.2. Changes of happiness levels in 2015-2019 on line plot</h3>
<p>Here below, we can see how the citizens happiness score has changed from 2015 to 2019. The largest increase from 2015 to 2019 had Finland. An interesting case is Austria. From 2015 to 2017, score of this country was decreasing, but in 2017 to 2019, it was start to rising. From 2015 Norway and Denmark are the countries with the highest happiness score, which hasn&rsquo;t changed rapidly to 2019.</p>
<p><img src="/static/images/WorldHappinessReport/img1.png" alt="alt"></p>
<h3 id="33-presentation-of-changes-in-the-level-of-traits-that-have-the-greatest-impact-on-the-level-of-happiness-in-2015-2019">3.3. Presentation of changes in the level of traits that have the greatest impact on the level of happiness in 2015-2019</h3>
<p><img src="/static/images/WorldHappinessReport/countries_corr_maps.jpg" alt="countries corr maps"></p>
<p>This time, I use heat map to show how factors has changed during next years for chosen countries, from 2015 to 2019. From this heat maps we can got to know that:</p>
<ul>
<li>in <strong>2015</strong> country with the highest:
<ul>
<li><strong>happiness</strong> score was <strong>Switzerland</strong>,</li>
<li><strong>economy</strong> score was <strong>Qatar</strong>,</li>
<li><strong>life expectancy (health)</strong> score was <strong>Singapore</strong>,</li>
<li><strong>social support</strong> score was <strong>Iceland</strong>,</li>
</ul>
</li>
<li>in <strong>2016</strong> country with the highest:
<ul>
<li><strong>happiness</strong> score was <strong>Denmark</strong>,</li>
<li><strong>economy</strong> score was <strong>Qatar</strong>  (score has increased from 1.69 to 1.82 points),</li>
<li><strong>life expectancy (health)</strong> score was <strong>Singapore</strong> (score has decreased from 1.03 to 0.95 points),</li>
<li><strong>social support</strong> score was <strong>Iceland</strong> (score has decreased from 1.40 to 1.18 points),</li>
</ul>
</li>
<li>in <strong>2017</strong> country with the highest:
<ul>
<li><strong>happiness</strong> score was <strong>Norway</strong>,</li>
<li><strong>economy</strong> score was <strong>Qatar</strong> (score has increased from 1.82 to 1.87 points),</li>
<li><strong>life expectancy (health)</strong> score was <strong>Singapore</strong> (score hasn&rsquo;t changed, still equal 0.95 points),</li>
<li><strong>social support</strong> score was <strong>Iceland</strong> (score has increased from 1.18 to 1.61 points),</li>
</ul>
</li>
<li>in <strong>2018</strong> country with the highest:
<ul>
<li><strong>happiness</strong> score was <strong>Finland</strong>,</li>
<li><strong>economy</strong> score was <strong>United Arab Emirates</strong> (score has increased from 1.63 to 2.10 points),</li>
<li><strong>life expectancy (health)</strong> score was <strong>Singapore</strong> (score has increased from 0.95 to 1.01 points),</li>
<li><strong>social support</strong> score was <strong>Iceland</strong> (score has increased from 1.61 to 1.64 points),</li>
</ul>
</li>
<li>in <strong>2019</strong> country with the highest:
<ul>
<li><strong>happiness</strong> score was <strong>Finland</strong> (score has increased from 7.63 to 7.77 points),</li>
<li><strong>economy</strong> score was <strong>Qatar</strong> (score has increased from 1.65 to 1.68 points),</li>
<li><strong>life expectancy (health)</strong> score was <strong>Singapore</strong> (score has increased from 1.01 to 1.14 points),</li>
<li><strong>social support</strong> score was <strong>Iceland</strong> (score has decreased from 1.64 to 1.62 points).</li>
</ul>
</li>
</ul>
<hr>

        </div>

        
        
          <div class="btn-improve-page">
              <a href="https://github.com/hugo-toha/hugo-toha.github.io/edit/master/content/projects/project_WorldHappiness.md">
                <i class="fas fa-code-branch"></i>
                Improve this page
              </a>
          </div>
        

        
      <hr />
        <div class="row next-prev-navigator">


  

  

  
    
      
      <div class="col-md-6 previous-article">
        <a href="/projects/project_kepler/" class="btn btn-outline-info">
          <span><i class="fas fa-chevron-circle-left"></i> Prev</span>
          <br />
          <span>Kepler Exoplanet Search Results - data analysis</span>
        </a>
      </div>
      
    
    
      
        
        
          
              
          
        
        <div class="col-md-6 next-article">
          <a href="/projects/project_library/" class="btn btn-outline-info">
            <span>Next <i class="fas fa-chevron-circle-right"></i></span>
            <br />
            <span>Project of an automated system for selecting wooden blocks from a rack using Raspberry Pi</span>
          </a>
        </div>
      
    
  

  

  

  

</div>

      <hr />
      
      
      </div>
    </div>
  </div>
  
</section>


      
      
  <section class="toc-section" id="toc-section">
    
    <div class="toc-holder">
      <h5 class="text-center pl-3">Table of Contents</h5>
      <hr>
      <div class="toc">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#1-data-presentation"><strong>1. Data presentation</strong>:</a></li>
    <li><a href="#2-data-reviewing"><strong>2. Data reviewing</strong>:</a>
      <ul>
        <li><a href="#21-correlation-maps">2.1. Correlation maps:</a></li>
        <li><a href="#22-countries-with-the-highest-happiness-score">2.2. Countries with the highest happiness score</a></li>
      </ul>
    </li>
    <li><a href="#3-preparing-report-for-one-trait-including-all-years"><strong>3. Preparing report for one trait including all years</strong>:</a>
      <ul>
        <li><a href="#31">3.1.</a></li>
        <li><a href="#32-changes-of-happiness-levels-in-2015-2019-on-line-plot">3.2. Changes of happiness levels in 2015-2019 on line plot</a></li>
        <li><a href="#33-presentation-of-changes-in-the-level-of-traits-that-have-the-greatest-impact-on-the-level-of-happiness-in-2015-2019">3.3. Presentation of changes in the level of traits that have the greatest impact on the level of happiness in 2015-2019</a></li>
      </ul>
    </li>
  </ul>
</nav>
      </div>
    </div>
    
  </section>

    </div>

    

  




  




  
  
    
  


<footer class="container-fluid text-center align-content-center footer pb-2">
  <div class="container pt-5">
    <div class="row text-left">
      <div class="col-md-4 col-sm-12">
        <h5>Navigation</h5>
        
        <ul>
            
              
              
                
              
              <li class="nav-item">
                <a class="smooth-scroll" href="#about">Armin Derencz</a>
              </li>
            
            
              
              
                
              
              <li class="nav-item">
                <a class="smooth-scroll" href="#skills">Skills</a>
              </li>
            
            
              
              
                
              
              <li class="nav-item">
                <a class="smooth-scroll" href="#projects">Projects</a>
              </li>
            
            
              
              
                
              
              <li class="nav-item">
                <a class="smooth-scroll" href="#recent-posts">Recent projects</a>
              </li>
            
        </ul>
        

      </div>
      
      <div class="col-md-4 col-sm-12">
        <h5>Contact me:</h5>
        <ul>
          
          <li><span>Email: </span> <span>armin.derencz@gmail.com</span></li>
          
        </ul>
      </div>
      
      
    </div>
  </div>
  <hr />
  <div class="container">
    <div class="row text-left">
      <div class="col-md-4">
        <a id="theme" href="https://github.com/hossainemruz/toha" target="#">
          <img src="/assets/images/inverted-logo.png">
          Toha
        </a>
      </div>
      <div class="col-md-4 text-center">© 2020 Copyright.</div>
      <div class="col-md-4 text-right">
        <a id="hugo" href="https://gohugo.io/">Powered by
        <img
          src="/assets/images/hugo-logo-wide.svg"
          alt="Hugo Logo"
          height="18"
        />
        </a>
      </div>
    </div>
  </div>
</footer>

    <script src="/assets/js/jquery-3.4.1.min.js"></script>
<script src="/assets/js/popper.min.js"></script>
<script src="/assets/js/bootstrap.min.js"></script>

<script src="/assets/js/navbar.js"></script>
<script src="/assets/js/main.js"></script>


    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js"></script>
<script src="/assets/js/single.js"></script>
<script>
  hljs.initHighlightingOnLoad();
</script>


  </body>
</html>
